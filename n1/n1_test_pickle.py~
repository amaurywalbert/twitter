# *-* coding:utf-8 *-*
import pickle
from collections import namedtuple

#definindo a estrutura com namedtuple
Pessoa = namedtuple("Pessoa", "codigo nome")


#Gravando os dados
with open("dados.dat", "a+b") as f:
	for i in range(1,3):
		codigo = int(raw_input("Digite o codigo:"))
		nome = raw_input("Digite o nome:")
		pessoa = Pessoa(codigo=codigo, nome=str.encode(nome))
		pickle.dump(pessoa,f)
		print(pessoa)

#Lendo os dados
#with open("dados.dat", "rb") as f:
#	for line in f:
#		dados = f.readline()
#		codigo, nome = struct.unpack( formato, dados[0:tamanho_estrutura ] )# Lê do byte 0 até o tamanho do arquivo (primeiro elemento)
#		nome = nome.split("\0")[0] # Como o C utiliza o \0 para terminar uma string no python precisamos tratar isso
#		pessoa = Pessoa(codigo=codigo, nome=nome)
#		print(pessoa)